<div class="container px-0">
  <!-- CREATE -->
  <section id="cadastrarCategoria" class="mb-5">
    <h3 class="h3Style">Criar Categoria</h3>

    <div class="col-xs-12 col-sm-11 col-lg-9 col-xl-8">
      <form #cadastrar (ngSubmit)="submit()" [formGroup]="categoryForm" #formDir="ngForm">
        <div class="my-4">
          <div class="form-group formWidth">
            <label for="nomeCategoria" class="form-label">Nome</label>
            <input
              [(ngModel)]="categoria.nomeCategoria"
              formControlName="nomeCategoria"
              type="text"
              class="form-control inputStyle"
              id="nomeCategoria"
              name="nomeCategoria"
              placeholder="Nome da Categoria"
              required
            />
            <div *ngIf="nomeCategoria.invalid && formDir.submitted" class="validationErrorStyle">
              <p *ngIf="nomeCategoria.errors?.['required']">O nome da categoria é obrigatório.</p>
            </div>
          </div>
        </div>

        <div class="my-4">
          <div class="form-group formWidth">
            <label for="descricaoCategoria" class="form-label">Descrição</label>
            <textarea
              [(ngModel)]="categoria.descricaoCategoria"
              formControlName="descricaoCategoria"
              style="height: 160px"
              maxlength="255"
              type="text"
              class="form-control inputStyle"
              id="descricaoCategoria"
              name="descricao da Categoria"
              placeholder="Descrição da Categoria"
              required
            ></textarea>
            <div *ngIf="descricaoCategoria.invalid && formDir.submitted" class="validationErrorStyle">
              <p *ngIf="descricaoCategoria.errors?.['required']">A descrição da categoria é obrigatória.</p>
              <p *ngIf="descricaoCategoria.errors?.['maxlenght']">O tamanho máximo da descrição é de 255 caracteres</p>
            </div>
          </div>
        </div>

        <div class="row d-flex justify-content-between align-items-center pt-2">
          <div class="col-xs-12 col-sm-7 mb-4 mb-sm-0">
            <button class="btn buttonStyle" type="submit" [disabled]="loading">
              <span
                *ngIf="loading"
                class="spinner-border spinner-border-sm me-1"
                role="status"
                aria-hidden="true"
              ></span
              >Criar
            </button>
          </div>
          <div class="col-xs-12 col-sm-5 mb-2 mb-sm-0">
            <button class="btn pStyleDark" (click)="clearFormCadastrar()">
              Cancelar
            </button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- READ -->
  <app-category-read></app-category-read>
</div>
